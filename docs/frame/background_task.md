### 后台任务

1. 当后端的接口执行的时间超长, 超过1分钟时, 浏览器会自动断开链接

1. 所以, 设计后台任务, 当后端接口执行时间超长, 超过40秒时, 会自动切换到 `后台任务`

1. 此时, 前端会弹出提示 `已切换到后台任务`, 并同时弹出 `后台任务列表`

1. `后台任务列表`: 名称lbl, 开始时间begin_time, 结束时间end_time, 状态state`[{value: "running", label: "运行中"},{value: "success", label: "成功"},{value: "fail", label: "失败"},{value: "cancel", label: "取消"}]`,结果类型type`[{value: "text", label: "文本"},{value: "download", label: "下载"},{value: "inline", label: "查看"},{value: "tag", label: "标签"}]`, 执行结果result, 错误信息err_msg

1. 
```
有些逻辑还是挺复杂的
比如说: 导入, 导出 的时候, 或者执行某个计算先关的接口的时候,  时间可能非常长
比如半个小时,  这就有问题了, 浏览器只能等1分钟, 1分钟之后会报错的

正常的解决方案是, 所有可能有这个问题的地方, 前后端手动针对这个API单独开发
但, 很明显, 这是一个"通用的逻辑", 可以抽离出来
让一个注解, 一个配置, 就让任意一个API接口, 都可以支持这种后台异步的长耗时任务
所以, 搞了个 "后台任务" 的概念

但, 问题又来了, 比如导出数据, 绝大多数情况下, 90%的情况, 是1分钟之内必定下载完毕的
这个时候, 就不需要 后台任务 的介入, 否则用户体验就不好了
所以, 配置了可能会有后台任务的接口, 就必须额外检查它是否超时了, 超时就自动进入后台任务
超时就自动弹出后台任务列表给用户, 告诉用户 "由于耗时较长, 已进入后台下载"
此时, 用户可手动刷新查看后台任务执行完毕没有,  关掉浏览器再打开, 也可以去查看后台任务的进度等
完毕之后, 下载后台任务的结果
```